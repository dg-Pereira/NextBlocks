function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _classPrivateFieldInitSpec(obj,privateMap,value){!function(obj,privateCollection){if(privateCollection.has(obj))throw new TypeError("Cannot initialize the same private elements twice on an object")}(obj,privateMap),privateMap.set(obj,value)}function _classStaticPrivateFieldSpecGet(receiver,classConstructor,descriptor){return function(receiver,classConstructor){if(receiver!==classConstructor)throw new TypeError("Private static access of wrong provenance")}(receiver,classConstructor),function(descriptor,action){if(void 0===descriptor)throw new TypeError("attempted to "+action+" private static field before its declaration")}(descriptor,"get"),_classApplyDescriptorGet(receiver,descriptor)}function _classPrivateFieldGet(receiver,privateMap){return _classApplyDescriptorGet(receiver,_classExtractFieldDescriptor(receiver,privateMap,"get"))}function _classApplyDescriptorGet(receiver,descriptor){return descriptor.get?descriptor.get.call(receiver):descriptor.value}function _classPrivateFieldSet(receiver,privateMap,value){return function(receiver,descriptor,value){if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}
/**
 *
 * @module      mod_nextblocks/codestring
 * @copyright   2023 Duarte Pereira<dg.pereira@campus.fct.unl.pt>
 * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */(receiver,_classExtractFieldDescriptor(receiver,privateMap,"set"),value),value}function _classExtractFieldDescriptor(receiver,privateMap,action){if(!privateMap.has(receiver))throw new TypeError("attempted to "+action+" private field on non-instance");return privateMap.get(receiver)}define("mod_nextblocks/codestring",[],(function(){var _codeString=new WeakMap,_userFunctionLinesCount=new WeakMap,CodeString=function(){function CodeString(codeString){_classCallCheck(this,CodeString),_classPrivateFieldInitSpec(this,_codeString,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_userFunctionLinesCount,{writable:!0,value:void 0}),_classPrivateFieldSet(this,_codeString,arguments.length>0?codeString:""),_classPrivateFieldSet(this,_userFunctionLinesCount,0)}var Constructor,protoProps,staticProps;return Constructor=CodeString,(protoProps=[{key:"getCompleteCodeString",value:function(){return _classPrivateFieldGet(this,_codeString)}},{key:"getPrintableCodeString",value:function(){var codeLines=_classPrivateFieldGet(this,_codeString).split(/(?<!\\)\n/),functionLines=codeLines.slice(0,_classPrivateFieldGet(this,_userFunctionLinesCount)),startIndex=codeLines.findIndex((function(line){return line.includes("(function () {")}))+1,endIndex=codeLines.findIndex((function(line){return line.includes("return outputString;")})),startCodeLines=codeLines.slice(startIndex,endIndex);return functionLines.concat(startCodeLines).join("\n")}},{key:"getSubmittableCodeString",value:function(){var lastIndex=_classPrivateFieldGet(this,_codeString).lastIndexOf("return outputString;");return _classPrivateFieldGet(this,_codeString).substring(0,lastIndex)+"process.stdout.write(outputString);"+_classPrivateFieldGet(this,_codeString).substring(lastIndex+"return outputString;".length)}},{key:"addVariable",value:function(variableName,variableValue){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(variableName))throw new Error("Invalid variable name");return _classPrivateFieldSet(this,_codeString,_classPrivateFieldGet(this,_codeString)+"let "+variableName+" = "+variableValue+";\n"),_classPrivateFieldGet(this,_codeString)}},{key:"addLine",value:function(line){if(line.includes("\n"))throw new Error("Invalid line");return _classPrivateFieldSet(this,_codeString,_classPrivateFieldGet(this,_codeString)+(line+"\n")),_classPrivateFieldGet(this,_codeString)}},{key:"addEnding",value:function(){return _classPrivateFieldSet(this,_codeString,_classPrivateFieldGet(this,_codeString)+_classStaticPrivateFieldSpecGet(CodeString,CodeString,_codeEnding)),_classPrivateFieldGet(this,_codeString)}},{key:"addAuxFunctions",value:function(inputFuncDecs){var auxFunctions=inputFuncDecs+_classStaticPrivateFieldSpecGet(CodeString,CodeString,_auxFunctions);return _classPrivateFieldSet(this,_codeString,_classPrivateFieldGet(this,_codeString)+auxFunctions),_classPrivateFieldGet(this,_codeString)}},{key:"addMainCode",value:function(codeString){return _classPrivateFieldSet(this,_codeString,_classPrivateFieldGet(this,_codeString)+codeString),_classPrivateFieldGet(this,_codeString)}},{key:"addFunction",value:function(functionCode){var functionLinesCount=(functionCode.match(/(?<!\\)\n/g)||[]).length;return _classPrivateFieldSet(this,_userFunctionLinesCount,_classPrivateFieldGet(this,_userFunctionLinesCount)+functionLinesCount),_classPrivateFieldSet(this,_codeString,functionCode+_classPrivateFieldGet(this,_codeString)),_classPrivateFieldGet(this,_codeString)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),CodeString}(),_auxFunctions={writable:!0,value:"function print(string) {\n    outputString += string + '\\n';\n}\nfunction input(prompt) {\n    return prompt;\n}\n"},_codeEnding={writable:!0,value:"return outputString;\n})();\n"};return CodeString}));

//# sourceMappingURL=codestring.min.js.map